import{d as l,j as e,u as S,a5 as B,a0 as N,r as n,M as c,B as r,a1 as E,K as g,G as i,W as A,I as p,L as D,J as w,T as s,N as y}from"./index-DJ-mX6Fk.js";import{n as f}from"./api-T5aaLTAo.js";import{g as v}from"./imageHelper-D6Ik51Rl.js";import{A as L}from"./Alert-DLo_mUvi.js";import{B as M}from"./Button-Bm3vhWTS.js";import{C as k}from"./CardMedia-8_7JFSCf.js";const z=l(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),H=l(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),P=l(e.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),J=()=>{const d=S(),{id:o}=B(),h=N(),[t,b]=n.useState(null),[_,x]=n.useState(!0),[u,j]=n.useState("");n.useEffect(()=>{C()},[o]);const C=async()=>{try{x(!0);const a=await f.getById(o);b(a.data.data)}catch(a){j("Error fetching news data"),console.error("Error fetching news:",a)}finally{x(!1)}},I=async()=>{if(window.confirm("Are you sure you want to delete this news article?"))try{await f.delete(o),h("/admin/news")}catch(a){j("Error deleting news"),console.error("Error deleting news:",a)}},m=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return _?e.jsx(c,{title:"News Details",children:e.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(E,{})})}):u||!t?e.jsx(c,{title:"News Details",children:e.jsx(L,{severity:"error",children:u||"News not found"})}):e.jsx(c,{title:"News Details",content:!1,children:e.jsx(g,{children:e.jsxs(i,{container:!0,spacing:A,children:[e.jsx(i,{item:!0,xs:12,children:e.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(M,{startIcon:e.jsx(P,{}),onClick:()=>h("/admin/news"),variant:"outlined",children:"Back to News"}),e.jsxs(r,{display:"flex",gap:1,children:[e.jsx(p,{component:D,to:`/admin/news/${t.id}/edit`,color:"primary",size:"large",children:e.jsx(z,{})}),e.jsx(p,{onClick:I,color:"error",size:"large",children:e.jsx(H,{})})]})]})}),t.cover_photo&&e.jsx(i,{item:!0,xs:12,children:e.jsx(w,{children:e.jsx(k,{component:"img",height:"400",image:v(t.cover_photo),alt:t.main_title,sx:{objectFit:"cover"}})})}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(r,{children:[e.jsx(s,{variant:"h2",gutterBottom:!0,children:t.main_title}),t.sub_title&&e.jsx(s,{variant:"h4",color:"textSecondary",gutterBottom:!0,sx:{fontWeight:400},children:t.sub_title}),e.jsxs(r,{display:"flex",alignItems:"center",gap:2,my:3,children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:1,children:[t.author_photo?e.jsx(y,{src:v(t.author_photo),sx:{width:48,height:48}}):e.jsx(y,{sx:{width:48,height:48},children:t.author_name.charAt(0)}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",fontWeight:"bold",children:t.author_name}),e.jsx(s,{variant:"caption",color:"textSecondary",children:"Author"})]})]}),e.jsx(r,{sx:{mx:2,height:40,width:1,backgroundColor:d.palette.divider}}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"textSecondary",children:"Published"}),e.jsx(s,{variant:"body2",children:m(t.created_at)})]}),t.updated_at!==t.created_at&&e.jsxs(e.Fragment,{children:[e.jsx(r,{sx:{mx:2,height:40,width:1,backgroundColor:d.palette.divider}}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"textSecondary",children:"Last Updated"}),e.jsx(s,{variant:"body2",children:m(t.updated_at)})]})]})]}),e.jsx(w,{sx:{mt:3},children:e.jsx(g,{children:e.jsx(s,{variant:"body1",sx:{lineHeight:1.8,whiteSpace:"pre-wrap"},children:t.description})})})]})})]})})})};export{J as default};
